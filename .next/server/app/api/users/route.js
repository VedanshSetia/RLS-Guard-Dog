"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/users/route";
exports.ids = ["app/api/users/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_RLS_Guard_Dog_rls_guard_dog_app_api_users_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/users/route.ts */ \"(rsc)/./app/api/users/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/users/route\",\n        pathname: \"/api/users\",\n        filename: \"route\",\n        bundlePath: \"app/api/users/route\"\n    },\n    resolvedPagePath: \"D:\\\\RLS_Guard_Dog\\\\rls-guard-dog\\\\app\\\\api\\\\users\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_RLS_Guard_Dog_rls_guard_dog_app_api_users_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/users/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VycyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXNlcnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1c2VycyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUkxTX0d1YXJkX0RvZyU1Q3Jscy1ndWFyZC1kb2clNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNSTFNfR3VhcmRfRG9nJTVDcmxzLWd1YXJkLWRvZyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDVztBQUN4RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3Jscy1ndWFyZC1kb2cvP2E3YzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcUkxTX0d1YXJkX0RvZ1xcXFxybHMtZ3VhcmQtZG9nXFxcXGFwcFxcXFxhcGlcXFxcdXNlcnNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlcnNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3VzZXJzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcUkxTX0d1YXJkX0RvZ1xcXFxybHMtZ3VhcmQtZG9nXFxcXGFwcFxcXFxhcGlcXFxcdXNlcnNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3VzZXJzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/users/route.ts":
/*!********************************!*\
  !*** ./app/api/users/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_integrations_supabase_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/integrations/supabase/client */ \"(rsc)/./lib/integrations/supabase/client.ts\");\n\n\nconst admin = _lib_integrations_supabase_client__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin;\nif (!admin) throw new Error(\"supabaseAdmin is not available server-side\");\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const role = searchParams.get(\"role\");\n        if (!role || role !== \"teacher\" && role !== \"student\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid or missing role\"\n            }, {\n                status: 400\n            });\n        }\n        // Auth: Only head teachers can fetch users\n        const authHeader = request.headers.get(\"authorization\");\n        const token = authHeader?.split(\" \")[1];\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { data: { user } } = await _lib_integrations_supabase_client__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser(token);\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get head teacher's profile and school_id\n        const { data: profile } = await admin.from(\"profiles\").select(\"role, school_id\").eq(\"id\", user.id).single();\n        if (!profile || profile.role !== \"head_teacher\" || !profile.school_id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Only head teachers can fetch users\"\n            }, {\n                status: 403\n            });\n        }\n        // Fetch users with the requested role in the same school\n        const { data: users, error } = await admin.from(\"profiles\").select(\"id, first_name, last_name, email, role, school_id\").eq(\"role\", role).eq(\"school_id\", profile.school_id);\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 500\n            });\n        }\n        // Return users as a flat array for frontend compatibility\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(Array.isArray(users) ? users : []);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    // ...existing code...\n    try {\n        const { email, password, role, firstName, lastName, schoolId, mustChangePassword = false } = await request.json();\n        console.log(\"CreateUserDialog payload:\", {\n            email,\n            password,\n            role,\n            firstName,\n            lastName,\n            schoolId,\n            mustChangePassword\n        });\n        if (!email || !password || !role || !firstName || !lastName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Email, password, role, firstName, and lastName are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Defensive: Check if user already exists in profiles by email\n        const { data: existingProfileByEmail } = await admin.from(\"profiles\").select(\"id\").eq(\"email\", email).maybeSingle();\n        console.log(\"Existing profile by email:\", existingProfileByEmail);\n        if (existingProfileByEmail) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"A user with this email already exists in profiles.\"\n            }, {\n                status: 409\n            });\n        }\n        // Auth: Only head teachers can create users\n        const authHeader = request.headers.get(\"authorization\");\n        console.log(\"Authorization header:\", authHeader);\n        const token = authHeader?.split(\" \")[1];\n        if (!token) {\n            console.log(\"No token found\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { data: { user } } = await _lib_integrations_supabase_client__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser(token);\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get head teacher's profile and school_id using admin client\n        const { data: profile } = await admin.from(\"profiles\").select(\"role, school_id\").eq(\"id\", user.id).single();\n        if (!profile || profile.role !== \"head_teacher\" || !profile.school_id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Only head teachers can create users\"\n            }, {\n                status: 403\n            });\n        }\n        // Create user with Supabase Auth (admin client)\n        const { data: authData, error: authError } = await admin.auth.admin.createUser({\n            email,\n            password,\n            email_confirm: true\n        });\n        console.log(\"Supabase admin.createUser response:\", {\n            authData,\n            authError\n        });\n        if (authData && authData.user) {\n            console.log(\"New user ID from Supabase Auth:\", authData.user.id);\n        }\n        if (authError) {\n            // If duplicate error, return clear error and do not insert profile\n            if (authError.message && authError.message.toLowerCase().includes(\"duplicate\")) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"A user with this email already exists in Auth.\"\n                }, {\n                    status: 409\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: authError.message\n            }, {\n                status: 400\n            });\n        }\n        // Only insert profile if createUser succeeded and user.id is valid\n        if (!authData || !authData.user || !authData.user.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User creation failed: no valid user id returned from Supabase Auth.\",\n                debug: {\n                    authData\n                }\n            }, {\n                status: 500\n            });\n        }\n        // Defensive: Check if user already exists in profiles by user id (after authData is defined)\n        const { data: existingProfileById } = await admin.from(\"profiles\").select(\"id\").eq(\"id\", authData.user.id).maybeSingle();\n        console.log(\"Duplicate check by user ID:\", authData.user.id, existingProfileById);\n        if (existingProfileById) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"A user with this ID already exists in profiles.\"\n            }, {\n                status: 409\n            });\n        }\n        const { error: profileError } = await admin.from(\"profiles\").insert({\n            id: authData.user.id,\n            email,\n            first_name: firstName,\n            last_name: lastName,\n            role: role,\n            school_id: schoolId || profile.school_id,\n            must_change_password: mustChangePassword\n        });\n        if (profileError) {\n            // Clean up the created user if profile creation fails\n            await admin.auth.admin.deleteUser(authData.user.id);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: profileError.message,\n                debug: {\n                    authData,\n                    profileError\n                }\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            user: {\n                id: authData.user.id,\n                email,\n                role,\n                firstName,\n                lastName\n            }\n        });\n    } catch (error) {\n        console.error(\"Error creating user:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T2QscURBQVlBLENBQUNZLElBQUksQ0FBQztZQUN2QitDLFNBQVM7WUFDVHZDLE1BQU07Z0JBQ0pPLElBQUlrQixTQUFTekIsSUFBSSxDQUFDTyxFQUFFO2dCQUNwQlE7Z0JBQ0F6QjtnQkFDQTJCO2dCQUNBQztZQUNGO1FBQ0Y7SUFDRixFQUFFLE9BQU96QixPQUFPO1FBQ2Q0QixRQUFRNUIsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBT2IscURBQVlBLENBQUNZLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUF3QixHQUNqQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Jscy1ndWFyZC1kb2cvLi9hcHAvYXBpL3VzZXJzL3JvdXRlLnRzPzdmYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgc3VwYWJhc2UsIHN1cGFiYXNlQWRtaW4gfSBmcm9tICdAL2xpYi9pbnRlZ3JhdGlvbnMvc3VwYWJhc2UvY2xpZW50J1xuXG5jb25zdCBhZG1pbiA9IHN1cGFiYXNlQWRtaW47XG5pZiAoIWFkbWluKSB0aHJvdyBuZXcgRXJyb3IoJ3N1cGFiYXNlQWRtaW4gaXMgbm90IGF2YWlsYWJsZSBzZXJ2ZXItc2lkZScpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCByb2xlID0gc2VhcmNoUGFyYW1zLmdldCgncm9sZScpO1xuICAgIGlmICghcm9sZSB8fCAocm9sZSAhPT0gJ3RlYWNoZXInICYmIHJvbGUgIT09ICdzdHVkZW50JykpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCBvciBtaXNzaW5nIHJvbGUnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gQXV0aDogT25seSBoZWFkIHRlYWNoZXJzIGNhbiBmZXRjaCB1c2Vyc1xuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyPy5zcGxpdCgnICcpWzFdO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcih0b2tlbik7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICAvLyBHZXQgaGVhZCB0ZWFjaGVyJ3MgcHJvZmlsZSBhbmQgc2Nob29sX2lkXG4gICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBhZG1pbiFcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuc2VsZWN0KCdyb2xlLCBzY2hvb2xfaWQnKVxuICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoIXByb2ZpbGUgfHwgcHJvZmlsZS5yb2xlICE9PSAnaGVhZF90ZWFjaGVyJyB8fCAhcHJvZmlsZS5zY2hvb2xfaWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnT25seSBoZWFkIHRlYWNoZXJzIGNhbiBmZXRjaCB1c2VycycgfSwgeyBzdGF0dXM6IDQwMyB9KTtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCB1c2VycyB3aXRoIHRoZSByZXF1ZXN0ZWQgcm9sZSBpbiB0aGUgc2FtZSBzY2hvb2xcbiAgICBjb25zdCB7IGRhdGE6IHVzZXJzLCBlcnJvciB9ID0gYXdhaXQgYWRtaW4hXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgnaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIHJvbGUsIHNjaG9vbF9pZCcpXG4gICAgICAuZXEoJ3JvbGUnLCByb2xlKVxuICAgICAgLmVxKCdzY2hvb2xfaWQnLCBwcm9maWxlLnNjaG9vbF9pZCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gIC8vIFJldHVybiB1c2VycyBhcyBhIGZsYXQgYXJyYXkgZm9yIGZyb250ZW5kIGNvbXBhdGliaWxpdHlcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKEFycmF5LmlzQXJyYXkodXNlcnMpID8gdXNlcnMgOiBbXSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLlxuICB0cnkge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgc2Nob29sSWQsIG11c3RDaGFuZ2VQYXNzd29yZCA9IGZhbHNlIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICBjb25zb2xlLmxvZygnQ3JlYXRlVXNlckRpYWxvZyBwYXlsb2FkOicsIHsgZW1haWwsIHBhc3N3b3JkLCByb2xlLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBzY2hvb2xJZCwgbXVzdENoYW5nZVBhc3N3b3JkIH0pO1xuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkIHx8ICFyb2xlIHx8ICFmaXJzdE5hbWUgfHwgIWxhc3ROYW1lKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdFbWFpbCwgcGFzc3dvcmQsIHJvbGUsIGZpcnN0TmFtZSwgYW5kIGxhc3ROYW1lIGFyZSByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gRGVmZW5zaXZlOiBDaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3RzIGluIHByb2ZpbGVzIGJ5IGVtYWlsXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1Byb2ZpbGVCeUVtYWlsIH0gPSBhd2FpdCBhZG1pbiFcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAuZXEoJ2VtYWlsJywgZW1haWwpXG4gICAgICAubWF5YmVTaW5nbGUoKTtcbiAgICBjb25zb2xlLmxvZygnRXhpc3RpbmcgcHJvZmlsZSBieSBlbWFpbDonLCBleGlzdGluZ1Byb2ZpbGVCeUVtYWlsKTtcbiAgICBpZiAoZXhpc3RpbmdQcm9maWxlQnlFbWFpbCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQSB1c2VyIHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0cyBpbiBwcm9maWxlcy4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDkgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIEF1dGg6IE9ubHkgaGVhZCB0ZWFjaGVycyBjYW4gY3JlYXRlIHVzZXJzXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKTtcbiAgICBjb25zb2xlLmxvZygnQXV0aG9yaXphdGlvbiBoZWFkZXI6JywgYXV0aEhlYWRlcik7XG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyPy5zcGxpdCgnICcpWzFdO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdObyB0b2tlbiBmb3VuZCcpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKHRva2VuKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIC8vIEdldCBoZWFkIHRlYWNoZXIncyBwcm9maWxlIGFuZCBzY2hvb2xfaWQgdXNpbmcgYWRtaW4gY2xpZW50XG4gICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBhZG1pbiFcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuc2VsZWN0KCdyb2xlLCBzY2hvb2xfaWQnKVxuICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoIXByb2ZpbGUgfHwgcHJvZmlsZS5yb2xlICE9PSAnaGVhZF90ZWFjaGVyJyB8fCAhcHJvZmlsZS5zY2hvb2xfaWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ09ubHkgaGVhZCB0ZWFjaGVycyBjYW4gY3JlYXRlIHVzZXJzJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAzIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdXNlciB3aXRoIFN1cGFiYXNlIEF1dGggKGFkbWluIGNsaWVudClcbiAgICBjb25zdCB7IGRhdGE6IGF1dGhEYXRhLCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBhZG1pbiEuYXV0aC5hZG1pbi5jcmVhdGVVc2VyKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBlbWFpbF9jb25maXJtOiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZSBhZG1pbi5jcmVhdGVVc2VyIHJlc3BvbnNlOicsIHsgYXV0aERhdGEsIGF1dGhFcnJvciB9KTtcbiAgICBpZiAoYXV0aERhdGEgJiYgYXV0aERhdGEudXNlcikge1xuICAgICAgY29uc29sZS5sb2coJ05ldyB1c2VyIElEIGZyb20gU3VwYWJhc2UgQXV0aDonLCBhdXRoRGF0YS51c2VyLmlkKTtcbiAgICB9XG5cbiAgICBpZiAoYXV0aEVycm9yKSB7XG4gICAgICAvLyBJZiBkdXBsaWNhdGUgZXJyb3IsIHJldHVybiBjbGVhciBlcnJvciBhbmQgZG8gbm90IGluc2VydCBwcm9maWxlXG4gICAgICBpZiAoYXV0aEVycm9yLm1lc3NhZ2UgJiYgYXV0aEVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZHVwbGljYXRlJykpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdBIHVzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzIGluIEF1dGguJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDkgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IGF1dGhFcnJvci5tZXNzYWdlIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIE9ubHkgaW5zZXJ0IHByb2ZpbGUgaWYgY3JlYXRlVXNlciBzdWNjZWVkZWQgYW5kIHVzZXIuaWQgaXMgdmFsaWRcbiAgICBpZiAoIWF1dGhEYXRhIHx8ICFhdXRoRGF0YS51c2VyIHx8ICFhdXRoRGF0YS51c2VyLmlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdVc2VyIGNyZWF0aW9uIGZhaWxlZDogbm8gdmFsaWQgdXNlciBpZCByZXR1cm5lZCBmcm9tIFN1cGFiYXNlIEF1dGguJywgZGVidWc6IHsgYXV0aERhdGEgfSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBEZWZlbnNpdmU6IENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHMgaW4gcHJvZmlsZXMgYnkgdXNlciBpZCAoYWZ0ZXIgYXV0aERhdGEgaXMgZGVmaW5lZClcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nUHJvZmlsZUJ5SWQgfSA9IGF3YWl0IGFkbWluIVxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5lcSgnaWQnLCBhdXRoRGF0YS51c2VyLmlkKVxuICAgICAgLm1heWJlU2luZ2xlKCk7XG4gICAgY29uc29sZS5sb2coJ0R1cGxpY2F0ZSBjaGVjayBieSB1c2VyIElEOicsIGF1dGhEYXRhLnVzZXIuaWQsIGV4aXN0aW5nUHJvZmlsZUJ5SWQpO1xuICAgIGlmIChleGlzdGluZ1Byb2ZpbGVCeUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdBIHVzZXIgd2l0aCB0aGlzIElEIGFscmVhZHkgZXhpc3RzIGluIHByb2ZpbGVzLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwOSB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvcjogcHJvZmlsZUVycm9yIH0gPSBhd2FpdCBhZG1pbiFcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgaWQ6IGF1dGhEYXRhLnVzZXIuaWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBmaXJzdF9uYW1lOiBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3RfbmFtZTogbGFzdE5hbWUsXG4gICAgICAgIHJvbGU6IHJvbGUsIC8vIGVuc3VyZSBjb3JyZWN0IHJvbGUgZnJvbSByZXF1ZXN0XG4gICAgICAgIHNjaG9vbF9pZDogc2Nob29sSWQgfHwgcHJvZmlsZS5zY2hvb2xfaWQsXG4gICAgICAgIG11c3RfY2hhbmdlX3Bhc3N3b3JkOiBtdXN0Q2hhbmdlUGFzc3dvcmQsXG4gICAgICB9KTtcblxuICAgIGlmIChwcm9maWxlRXJyb3IpIHtcbiAgICAgIC8vIENsZWFuIHVwIHRoZSBjcmVhdGVkIHVzZXIgaWYgcHJvZmlsZSBjcmVhdGlvbiBmYWlsc1xuICAgICAgYXdhaXQgYWRtaW4hLmF1dGguYWRtaW4uZGVsZXRlVXNlcihhdXRoRGF0YS51c2VyLmlkKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogcHJvZmlsZUVycm9yLm1lc3NhZ2UsIGRlYnVnOiB7IGF1dGhEYXRhLCBwcm9maWxlRXJyb3IgfSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgaWQ6IGF1dGhEYXRhLnVzZXIuaWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByb2xlLFxuICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgIGxhc3ROYW1lLFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3VwYWJhc2UiLCJzdXBhYmFzZUFkbWluIiwiYWRtaW4iLCJFcnJvciIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJyb2xlIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJ0b2tlbiIsInNwbGl0IiwiZGF0YSIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsInByb2ZpbGUiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsInNpbmdsZSIsInNjaG9vbF9pZCIsInVzZXJzIiwibWVzc2FnZSIsIkFycmF5IiwiaXNBcnJheSIsIlBPU1QiLCJlbWFpbCIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJzY2hvb2xJZCIsIm11c3RDaGFuZ2VQYXNzd29yZCIsImNvbnNvbGUiLCJsb2ciLCJleGlzdGluZ1Byb2ZpbGVCeUVtYWlsIiwibWF5YmVTaW5nbGUiLCJhdXRoRGF0YSIsImF1dGhFcnJvciIsImNyZWF0ZVVzZXIiLCJlbWFpbF9jb25maXJtIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRlYnVnIiwiZXhpc3RpbmdQcm9maWxlQnlJZCIsInByb2ZpbGVFcnJvciIsImluc2VydCIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJtdXN0X2NoYW5nZV9wYXNzd29yZCIsImRlbGV0ZVVzZXIiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/users/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/integrations/supabase/client.ts":
/*!*********************************************!*\
  !*** ./lib/integrations/supabase/client.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://jwxqvcbrdzqqmsndhbjd.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp3eHF2Y2JyZHpxcW1zbmRoYmpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzNjExNjksImV4cCI6MjA3MzkzNzE2OX0.BBmRiUXo-c_GuZgdoFyKvVBUP-gFfM-LfCJM5ygq5dI\";\nconst supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n// Public client for frontend/browser usage\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        persistSession: true,\n        autoRefreshToken: true\n    }\n});\nlet supabaseAdmin = undefined;\nif (true) {\n    supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceRoleKey);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvaW50ZWdyYXRpb25zL3N1cGFiYXNlL2NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDcUQ7QUFHckQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBQ2pFLE1BQU1LLHlCQUF5QkwsUUFBUUMsR0FBRyxDQUFDSyx5QkFBeUI7QUFFcEUsMkNBQTJDO0FBQ3BDLE1BQU1DLFdBQVdULG1FQUFZQSxDQUFXQyxhQUFhSSxpQkFBaUI7SUFDM0VLLE1BQU07UUFDSkMsZ0JBQWdCO1FBQ2hCQyxrQkFBa0I7SUFDcEI7QUFDRixHQUFHO0FBSUgsSUFBSUMsZ0JBQXNEQztBQUMxRCxJQUFJLElBQWtCLEVBQWE7SUFDakNELGdCQUFnQmIsbUVBQVlBLENBQVdDLGFBQWFNO0FBQ3REO0FBQ3lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmxzLWd1YXJkLWRvZy8uL2xpYi9pbnRlZ3JhdGlvbnMvc3VwYWJhc2UvY2xpZW50LnRzPzk1YjAiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XHJcbmltcG9ydCB0eXBlIHsgRGF0YWJhc2UgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMITtcclxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhO1xyXG5jb25zdCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSE7XHJcblxyXG4vLyBQdWJsaWMgY2xpZW50IGZvciBmcm9udGVuZC9icm93c2VyIHVzYWdlXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudDxEYXRhYmFzZT4oc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSwge1xyXG4gIGF1dGg6IHtcclxuICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxyXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIE9ubHkgY3JlYXRlIHRoZSBhZG1pbiBjbGllbnQgaW4gYSBzZXJ2ZXItc2lkZSBjb250ZXh0XHJcbmltcG9ydCB0eXBlIHsgU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xyXG5sZXQgc3VwYWJhc2VBZG1pbjogU3VwYWJhc2VDbGllbnQ8RGF0YWJhc2U+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICBzdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50PERhdGFiYXNlPihzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSk7XHJcbn1cclxuZXhwb3J0IHsgc3VwYWJhc2VBZG1pbiB9O1xyXG5cclxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2VTZXJ2aWNlUm9sZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJzdXBhYmFzZSIsImF1dGgiLCJwZXJzaXN0U2Vzc2lvbiIsImF1dG9SZWZyZXNoVG9rZW4iLCJzdXBhYmFzZUFkbWluIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/integrations/supabase/client.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRLS_Guard_Dog%5Crls-guard-dog&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();